# Introduction
  This Web Service uses Django and mySQL, provides public web page for users and private function for APIs.
 
# Data Structure
  Data is stored in mySQL database, and use Models component of Django to retrive/update data from database. 
  [Source code](https://github.com/fcharmy/face/blob/master/face_web/face_tech/models.py)
  [Group]: https://github.com/fcharmy/face/blob/master/face_web/face_tech/models.py#L8
  [Person]: https://github.com/fcharmy/face/blob/master/face_web/face_tech/models.py#L26
  [Person_To_Group]: https://github.com/fcharmy/face/blob/master/face_web/face_tech/models.py#L47
  [Face]: https://github.com/fcharmy/face/blob/master/face_web/face_tech/models.py#L52
  [get_real_name]: https://github.com/fcharmy/face/blob/master/face_web/face_tech/models.py#L62
  [add_or_get_person]: https://github.com/fcharmy/face/blob/master/face_web/face_tech/models.py#L66
  [add_or_get_group]: https://github.com/fcharmy/face/blob/master/face_web/face_tech/models.py#L82
  [auth_project_seckey]: https://github.com/fcharmy/face/blob/master/face_web/face_tech/models.py#L97
  [get_group_from_project]: https://github.com/fcharmy/face/blob/master/face_web/face_tech/models.py#L109
  [get_persons_from_project_by_ids]: https://github.com/fcharmy/face/blob/master/face_web/face_tech/models.py#L119
  [get_image_path]: https://github.com/fcharmy/face/blob/master/face_web/face_tech/models.py#L135
  
### [Group][Group]
 * name - unidque value which can only contain letters, numbers and .@+-]+, max length is 50
 * description - if optional then default is '', max length is 200
 * project - foreign key, User object from auth.models of Django
 * create_date - DateTimeField, auto generated by using creation time

 _**Method**_ to_dict:  
  return dictionary type of current group object
    
### [Person][Person]
 * name - unidque value which can only contain letters, numbers and .@+-]+, max length is 50   
 * email - optional
 * first_name - optional, max length is 30  
 * last_name - optional, max length is 30  
 * note - optional, max length is 200  
 * project - foreign key, User object from auth.models of Django  
 * create_date - DateTimeField, auto generated by using creation time  
 _**Method**_ to_dict:  
  return dictionary type of current person object
    
### [Person_To_Group][Person_To_Group]
 * group - foreign key, Group object
 * person - foreign key, Person object
 This object will be delete when any foreign key does not exsits.

### [Face][Face]
 * person - foreign key, Person object
 * feature - feature array, obtain from feature extration algorithm and max_length is 10240
 * image - image path in server
 * create_date - DateTimeField, auto generated by using creation time  

### Private Functions
#### [get_real_name][get_real_name]
 * input: name (string), project (object)
 * output: real name for group (string)
 when create a new group/person by project, combine project id with group/person name to be the name which store in database. This will guarantee if a group/person name is unique within a project, it will be unique in whole database.
 
#### [add_or_get_person][add_or_get_person]
 * input: name (string), project (object), email (defalt=''), first_name (defalt=''), last_name (defalt=''), note (defalt='')
 * output: person object or None if fail
 create a new person, if exist, retrive the person object and return. If not exist, add into database and return the new person.
 
#### [add_or_get_group][add_or_get_group]
 * input: name (string), project (object), description (defalt='')
 * output: group object or None if fail
 create a new group, if exist, retrive the group object and return. If not exist, add into database and return the new group.
 
#### [auth_project_seckey][auth_project_seckey]
 * input: id (integer), key (string)
 * output: project object or False if fail
 given a pair of project id and security key, authenticate whether it is matched.

#### [get_group_from_project][get_group_from_project]
 * input: group_id (integer), project (object)
 * output: group object or None if fail
 retrive group from a project, return group object if exist, otherwise return None.

#### [get_persons_from_project_by_ids][get_persons_from_project_by_ids]
 * input: person_id (integer or array), project (object)
 * output: person object or array of person objects, None if fail
 given person id(s) to retrive person(s) from project and return.


#### [get_image_path][get_image_path]
 * input: person (object)
 * output: unique image path in server
 when save a face, generate a unique image path in server.
